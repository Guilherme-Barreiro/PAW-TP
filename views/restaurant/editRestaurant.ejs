<%- include('../partials/header') %>

<div class="container mt-4">
  <h1>Editar Restaurante</h1>
  
  <form method="POST" id="editRestaurantForm">
    <div class="mb-3">
      <label class="form-label">Nome</label>
      <input 
        type="text" 
        class="form-control" 
        name="name" 
        id="name" 
        value="<%= restaurante.name %>" 
        required 
        pattern="[A-Za-zÀ-ÿ\s]+" 
        title="Só letras e espaços.">
    </div>

    <div class="mb-3">
      <label class="form-label">Localização</label>
      <input 
        type="text" 
        class="form-control" 
        name="location" 
        id="location" 
        value="<%= restaurante.location %>" 
        required 
        pattern="[A-Za-zÀ-ÿ\s]+" 
        title="Só letras e espaços.">
    </div>

    <button type="submit" class="btn btn-success">Guardar Alterações</button>
    <a href="/restaurants/list" class="btn btn-secondary">Cancelar</a>
  </form>
</div>

<script>
  document.getElementById('editRestaurantForm').addEventListener('submit', function (e) {
    const name = document.getElementById('name').value;
    const location = document.getElementById('location').value;

    if (/[^A-Za-zÀ-ÿ\s]/.test(name)) {
      e.preventDefault();
      alert('O nome do restaurante só pode conter letras e espaços.');
      return;
    }

    if (/[^A-Za-zÀ-ÿ\s]/.test(location)) {
      e.preventDefault();
      alert('A localização só pode conter letras e espaços.');
      return;
    }
  });
</script>

<%- include('../partials/footer') %>
