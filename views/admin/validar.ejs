<%- include('../partials/header') %>

<div class="container mt-5">
  <h1>Validar Restaurantes</h1>
  <div class="mb-3"></div>
  <% if (restaurantes.length === 0) { %>
  <p class="text-muted">Todos os restaurantes estÃ£o validados ðŸŽ‰</p>
  <% } else { %>

    <table class="table table-bordered table-hover align-middle mt-2">
    <thead class="table-dark">
      <tr>
        <th>Nome</th>
        <th>LocalizaÃ§Ã£o</th>
        <th>Criado por</th>
        <th style="width: 170px">AÃ§Ã£o</th>
      </tr>
    </thead>
    <tbody>
      <% restaurantes.forEach(rest => { %>
      <tr>
        <td><%= rest.name %></td>
        <td><%= rest.location || '-' %></td>
        <td><%= rest.createdBy?.username || 'AnÃ³nimo' %></td>
        <td>
          <form method="POST" action="/admin/validar/<%= rest._id %>" class="d-inline">
            <button type="submit" class="btn btn-outline-success btn-sm">Validar</button>
          </form>
          <form method="POST" action="/admin/recusar/<%= rest._id %>" class="d-inline ms-1">
            <button type="submit" class="btn btn-outline-danger btn-sm">Recusar</button>
          </form>
        </td>        
      </tr>
      <% }) %>
    </tbody>
  </table>
  <% } %>
</div>

<%- include('../partials/footer') %>
