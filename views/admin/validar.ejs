<%- include('../partials/header') %>

<div class="container mt-4">
  <h1>Validar Restaurantes</h1>

  <% if (restaurantes.length === 0) { %>
    <p class="text-muted">Todos os restaurantes estÃ£o validados ðŸŽ‰</p>
  <% } else { %>
    <table class="table mt-3 table-hover text-center">
      <thead class="table-dark">
        <tr>
          <th>Nome</th>
<th>Email</th>
<th>LocalizaÃ§Ã£o</th>
<th>Criado por</th> <!-- novo -->
<th>AÃ§Ã£o</th>

        </tr>
      </thead>
      <tbody>
        <% restaurantes.forEach(rest => { %>
          <tr>
            <td><%= rest.name %></td>
<td><%= rest.email %></td>
<td><%= rest.location || '-' %></td>
<td><%= rest.createdBy?.username || 'AnÃ³nimo' %></td> <!-- novo -->
<td>
  <form method="POST" action="/admin/validar/<%= rest._id %>">
    <button class="btn btn-success btn-sm">Validar</button>
  </form>
  <form method="POST" action="/admin/recusar/<%= rest._id %>" style="display:inline-block">
    <button class="btn btn-danger btn-sm ms-1">Recusar</button>
  </form>  
</td>
          </tr>
        <% }) %>
      </tbody>
    </table>
  <% } %>
</div>

<%- include('../partials/footer') %>
